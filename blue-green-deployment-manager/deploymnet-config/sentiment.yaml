


apiVersion: v1
kind: ConfigMap
metadata:
  name: sentiment-0
  namespace: default
  labels: 
    "cpu_threshold_1": "100"
    "cpu_threshold_2" : "300"
    "mm_threshold_1" : "100000000"
    "mm_threshold_2" : "10000000000"
    "function_name" : "sentiment"
    "kind" : "mmap"
data:
  my-config.json: |
    [
        {
          "endpoints": "sentiment-read-csv",
          "name": "sentiment-main",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-main:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "HTTP"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            }, 
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5000"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 80,
            "targetPort": 5000
          },
          "ingress": {
            "host": "sentiment.example.com"
          }
        },
        {
          "endpoints": "sentiment-product-or-service",
          "name": "sentiment-read-csv",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-read-csv:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5001"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5001,
            "targetPort": 5001
          }
        },
        {
          "endpoints": "sentiment-cfail,sentiment-product-sentiment,sentiment-service-sentiment",
          "name": "sentiment-product-or-service",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-product-or-service:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5002"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5002,
            "targetPort": 5002
          }
        },
        {
          "name": "sentiment-cfail",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-cfail:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5003"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5003,
            "targetPort": 5003
          }
        },
        {
          "endpoints": "sentiment-product-result",
          "name": "sentiment-product-sentiment",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-product-sentiment:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5004"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5004,
            "targetPort": 5004
          }
        },
        {
          "endpoints": "sentiment-sfail,sentiment-sns,sentiment-db",
          "name": "sentiment-product-result",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-product-result:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5005"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5005,
            "targetPort": 5005
          }
        },
        {
          "name": "sentiment-sfail",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-sfail:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5006"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5006,
            "targetPort": 5006
          }
        },
        {
          "endpoints": "sentiment-db",
          "name": "sentiment-sns",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-sns:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5007"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5007,
            "targetPort": 5007
          }
        },
        {
          "name": "sentiment-db",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-db:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5008"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5008,
            "targetPort": 5008
          }
        },
        {
          "endpoints": "sentiment-service-result",
          "name": "sentiment-service-sentiment",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-service-sentiment:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5009"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5009,
            "targetPort": 5009
          }
        },
        {
          "endpoints": "sentiment-sfail,sentiment-sns,sentiment-db",
          "name": "sentiment-service-result",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-service-result:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
            "name": "RPC_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "RPC_DEST_PV",
            "value": "/macropod-pv"
            },
            {
            "name": "APP_PV",
            "value": "/macropod-pv"
            },
            {
              "name": "FUNC_PORT",
              "value": "5010"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5010,
            "targetPort": 5010
          }
        }
      ]


---





apiVersion: v1
kind: ConfigMap
metadata:
  name: sentiment-1
  namespace: default
  labels: 
    "cpu_threshold_1": "100"
    "cpu_threshold_2" : "700"
    "mm_threshold_1" : "100000000"
    "mm_threshold_2" : "10000000000"
    "function_name" : "sentiment"
    "kind" : "single-pod"
data:
  my-config.json: |
    [
        {
          "endpoints": "sentiment-read-csv",
          "name": "sentiment-main",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-main:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "HTTP"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5000"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 80,
            "targetPort": 5000
          },
          "ingress": {
            "host": "sentiment.example.com"
          }
        },
        {
          "endpoints": "sentiment-product-or-service",
          "name": "sentiment-read-csv",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-read-csv:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5001"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5001,
            "targetPort": 5001
          }
        },
        {
          "endpoints": "sentiment-cfail,sentiment-product-sentiment,sentiment-service-sentiment",
          "name": "sentiment-product-or-service",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-product-or-service:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5002"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5002,
            "targetPort": 5002
          }
        },
        {
          "name": "sentiment-cfail",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-cfail:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5003"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5003,
            "targetPort": 5003
          }
        },
        {
          "endpoints": "sentiment-product-result",
          "name": "sentiment-product-sentiment",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-product-sentiment:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5004"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5004,
            "targetPort": 5004
          }
        },
        {
          "endpoints": "sentiment-sfail,sentiment-sns,sentiment-db",
          "name": "sentiment-product-result",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-product-result:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5005"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5005,
            "targetPort": 5005
          }
        },
        {
          "name": "sentiment-sfail",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-sfail:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5006"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5006,
            "targetPort": 5006
          }
        },
        {
          "endpoints": "sentiment-db",
          "name": "sentiment-sns",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-sns:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5007"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5007,
            "targetPort": 5007
          }
        },
        {
          "name": "sentiment-db",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-db:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5008"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5008,
            "targetPort": 5008
          }
        },
        {
          "endpoints": "sentiment-service-result",
          "name": "sentiment-service-sentiment",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-service-sentiment:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5009"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5009,
            "targetPort": 5009
          }
        },
        {
          "endpoints": "sentiment-sfail,sentiment-sns,sentiment-db",
          "name": "sentiment-service-result",
          "version": 1,
          "replicaCount": 1,
          "image": {
            "image": "arearnest7/sentiment-service-result:macropod",
            "pullPolicy": "IfNotPresent"
          },
          "env": [{
            "name": "SERVICE_TYPE",
            "value": "GRPC"
            },
            {
            "name": "GRPC_THREAD",
            "value": "10"
            }, 
            {
              "name": "FUNC_PORT",
              "value": "5010"
            }
          ],
          "service": {
            "type": "ClusterIP",
            "port": 5010,
            "targetPort": 5010
          }
        }
      ]




---

apiVersion: v1
kind: ConfigMap
metadata:
  name: sentiment-2
  namespace: default
  labels: 
    "cpu_threshold_1": "200000"
    "cpu_threshold_2" : "4000000"
    "mm_threshold_1" : "100000000"
    "mm_threshold_2" : "10000000000"
    "function_name" : "video-analytics"
    "kind" : "multi-pod"
data:
  my-config.json: |
    [
      {
        "endpoints": "sentiment-read-csv",
        "name": "sentiment-main",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-main:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "HTTP"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 80,
          "targetPort": 5000
        },
        "ingress": {
          "host": "sentiment.example.com"
        }
      },
      {
        "endpoints": "sentiment-product-or-service",
        "name": "sentiment-read-csv",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-read-csv:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "endpoints": "sentiment-cfail,sentiment-product-sentiment,sentiment-service-sentiment",
        "name": "sentiment-product-or-service",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-product-or-service:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "name": "sentiment-cfail",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-cfail:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "endpoints": "sentiment-product-result",
        "name": "sentiment-product-sentiment",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-product-sentiment:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "endpoints": "sentiment-sfail,sentiment-sns,sentiment-db",
        "name": "sentiment-product-result",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-product-result:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "name": "sentiment-sfail",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-sfail:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "endpoints": "sentiment-db",
        "name": "sentiment-sns",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-sns:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "name": "sentiment-db",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-db:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "endpoints": "sentiment-service-result",
        "name": "sentiment-service-sentiment",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-service-sentiment:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      },
      {
        "endpoints": "sentiment-sfail,sentiment-sns,sentiment-db",
        "name": "sentiment-service-result",
        "version": 1,
        "replicaCount": 1,
        "image": {
          "image": "arearnest7/sentiment-service-result:macropod",
          "pullPolicy": "IfNotPresent"
        },
        "env": [{
          "name": "SERVICE_TYPE",
          "value": "GRPC"
          },
          {
          "name": "GRPC_THREAD",
          "value": "10"
          }, 
          {
            "name": "FUNC_PORT",
            "value": "5000"
          }
        ],
        "service": {
          "type": "ClusterIP",
          "port": 443,
          "targetPort": 5000
        }
      }
    ]


